"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[4113],{3905:(e,t,a)=>{a.d(t,{Zo:()=>l,kt:()=>h});var s=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function n(e,t){if(null==e)return{};var a,s,r=function(e,t){if(null==e)return{};var a,s,r={},i=Object.keys(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var u=s.createContext({}),c=function(e){var t=s.useContext(u),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},l=function(e){var t=c(e.components);return s.createElement(u.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return s.createElement(s.Fragment,{},t)}},p=s.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,u=e.parentName,l=n(e,["components","mdxType","originalType","parentName"]),p=c(a),h=r,g=p["".concat(u,".").concat(h)]||p[h]||d[h]||i;return a?s.createElement(g,o(o({ref:t},l),{},{components:a})):s.createElement(g,o({ref:t},l))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=p;var n={};for(var u in t)hasOwnProperty.call(t,u)&&(n[u]=t[u]);n.originalType=e,n.mdxType="string"==typeof e?e:r,o[1]=n;for(var c=2;c<i;c++)o[c]=a[c];return s.createElement.apply(null,o)}return s.createElement.apply(null,a)}p.displayName="MDXCreateElement"},95793:(e,t,a)=>{a.d(t,{Z:()=>k});var s=a(67294),r=a(86010);const i="availabilityCard_P5od",o="managedIcon_AxXO",n="platform_wqXv",u="platformAvailable_Y8lN";var c=a(1413);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"};var d=a(32257),p=function(e,t){return s.createElement(d.Z,(0,c.Z)((0,c.Z)({},e),{},{ref:t,icon:l}))};p.displayName="CloseCircleFilled";const h=s.forwardRef(p);const g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};var m=function(e,t){return s.createElement(d.Z,(0,c.Z)((0,c.Z)({},e),{},{ref:t,icon:g}))};m.displayName="CheckCircleFilled";const b=s.forwardRef(m);const y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M811.4 418.7C765.6 297.9 648.9 212 512.2 212S258.8 297.8 213 418.6C127.3 441.1 64 519.1 64 612c0 110.5 89.5 200 199.9 200h496.2C870.5 812 960 722.5 960 612c0-92.7-63.1-170.7-148.6-193.3zm36.3 281a123.07 123.07 0 01-87.6 36.3H263.9c-33.1 0-64.2-12.9-87.6-36.3A123.3 123.3 0 01140 612c0-28 9.1-54.3 26.2-76.3a125.7 125.7 0 0166.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10c54.3 14.5 92.1 63.8 92.1 120 0 33.1-12.9 64.3-36.3 87.7z"}}]},name:"cloud",theme:"outlined"};var f=function(e,t){return s.createElement(d.Z,(0,c.Z)((0,c.Z)({},e),{},{ref:t,icon:y}))};f.displayName="CloudOutlined";const v=s.forwardRef(f),k=e=>{let{saasOnly:t,ossOnly:a}=e;return s.createElement("div",{className:(0,r.Z)(i,"card")},s.createElement("strong",null,"Feature Availability"),s.createElement("div",null,s.createElement("span",{className:(0,r.Z)(n,!t&&u)},"Self-Hosted DataHub ",t?s.createElement(h,null):s.createElement(b,null))),s.createElement("div",null,s.createElement(v,{className:o}),s.createElement("span",{className:(0,r.Z)(n,!a&&u)},"Managed DataHub ",a?s.createElement(h,null):s.createElement(b,null))))}},75441:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>n,default:()=>p,frontMatter:()=>o,metadata:()=>u,toc:()=>l});var s=a(87462),r=(a(67294),a(3905)),i=a(95793);const o={title:"About DataHub Dataset Usage & Query History",sidebar_label:"Dataset Usage & Query History",slug:"/features/dataset-usage-and-query-history",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/features/dataset-usage-and-query-history.md"},n="About DataHub Dataset Usage & Query History",u={unversionedId:"docs/features/dataset-usage-and-query-history",id:"docs/features/dataset-usage-and-query-history",title:"About DataHub Dataset Usage & Query History",description:"Dataset Usage & Query History can give dataset-level information about the top queries which referenced a dataset.",source:"@site/genDocs/docs/features/dataset-usage-and-query-history.md",sourceDirName:"docs/features",slug:"/features/dataset-usage-and-query-history",permalink:"/docs/features/dataset-usage-and-query-history",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/docs/features/dataset-usage-and-query-history.md",tags:[],version:"current",frontMatter:{title:"About DataHub Dataset Usage & Query History",sidebar_label:"Dataset Usage & Query History",slug:"/features/dataset-usage-and-query-history",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/features/dataset-usage-and-query-history.md"},sidebar:"overviewSidebar",previous:{title:"Access Policies",permalink:"/docs/authorization/access-policies-guide"},next:{title:"Posts",permalink:"/docs/posts"}},c={},l=[{value:"Dataset Usage &amp; Query History Setup, Prerequisites, and Permissions",id:"dataset-usage--query-history-setup-prerequisites-and-permissions",level:2},{value:"Using Dataset Usage &amp; Query History",id:"using-dataset-usage--query-history",level:2},{value:"Additional Resources",id:"additional-resources",level:2},{value:"Videos",id:"videos",level:3},{value:"GraphQL",id:"graphql",level:3},{value:"FAQ and Troubleshooting",id:"faq-and-troubleshooting",level:2},{value:"Why is my Queries/Stats tab greyed out?",id:"why-is-my-queriesstats-tab-greyed-out",level:3}],d={toc:l};function p(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,s.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"about-datahub-dataset-usage--query-history"},"About DataHub Dataset Usage & Query History"),(0,r.kt)(i.Z,{mdxType:"FeatureAvailability"}),(0,r.kt)("p",null,"Dataset Usage & Query History can give dataset-level information about the top queries which referenced a dataset."),(0,r.kt)("p",null,"Usage data can help identify the top users who probably know the most about the dataset and top queries referencing this dataset.\nYou can also get an overview of the overall number of queries and distinct users.\nIn some sources, column level usage is also calculated, which can help identify frequently used columns."),(0,r.kt)("p",null,"With sources that support usage statistics, you can collect Dataset, Dashboard, and Chart usages."),(0,r.kt)("h2",{id:"dataset-usage--query-history-setup-prerequisites-and-permissions"},"Dataset Usage & Query History Setup, Prerequisites, and Permissions"),(0,r.kt)("p",null,"To ingest Dataset Usage & Query History data, you should check first on the specific source doc\nif it is supported by the Datahub source and how to enable it."),(0,r.kt)("p",null,"You can validate this on the Datahub source's capabilities section:"),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{width:"70%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/source-snowflake-capabilities.png"})),(0,r.kt)("p",null,"Some sources require a separate, usage-specific recipe to ingest Usage and Query History metadata. In this case, it is noted in the capabilities summary, like so:"),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{width:"70%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/source-redshift-capabilities.png"})),(0,r.kt)("p",null,"Please, always check the usage prerequisities page if the source has as it can happen you have to add additional\npermissions which only needs for usage."),(0,r.kt)("h2",{id:"using-dataset-usage--query-history"},"Using Dataset Usage & Query History"),(0,r.kt)("p",null,"After successful ingestion, the Queries and Stats tab will be enabled on datasets with any usage."),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{width:"70%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/feature-queries-tab.png"})),(0,r.kt)("p",null,"On the Queries tab, you can see the top 5 most often run queries which referenced this dataset."),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{width:"70%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/feature-query-history-page.png"})),(0,r.kt)("p",null,"On the Stats tab, you can see the top 5 users who run the most queries which referenced this dataset"),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{width:"70%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/feature-usage-stats-tab.png"})),(0,r.kt)("p",null,"With the collected usage data, you can even see column-level usage statistics (Redshift Usage doesn't supported this yet):"),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{width:"70%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/feature-column-level-usage.png"})),(0,r.kt)("h2",{id:"additional-resources"},"Additional Resources"),(0,r.kt)("h3",{id:"videos"},"Videos"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"DataHub 101: Data Profiling and Usage Stats 101")),(0,r.kt)("p",{align:"center"},(0,r.kt)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/d4S7RgWUg5U?start=254",title:"DataHub 101: Data Profiling",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})),(0,r.kt)("h3",{id:"graphql"},"GraphQL"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://datahubproject.io/docs/graphql/objects#usageaggregationmetrics"},"https://datahubproject.io/docs/graphql/objects#usageaggregationmetrics")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://datahubproject.io/docs/graphql/objects#userusagecounts"},"https://datahubproject.io/docs/graphql/objects#userusagecounts")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://datahubproject.io/docs/graphql/objects#dashboardstatssummary"},"https://datahubproject.io/docs/graphql/objects#dashboardstatssummary")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://datahubproject.io/docs/graphql/objects#dashboarduserusagecounts"},"https://datahubproject.io/docs/graphql/objects#dashboarduserusagecounts"))),(0,r.kt)("h2",{id:"faq-and-troubleshooting"},"FAQ and Troubleshooting"),(0,r.kt)("h3",{id:"why-is-my-queriesstats-tab-greyed-out"},"Why is my Queries/Stats tab greyed out?"),(0,r.kt)("p",null,"Queries/Stats tab is greyed out if there is no usage statistics for that dataset or there were no ingestion with usage extraction run before."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Need more help? Join the conversation in ",(0,r.kt)("a",{parentName:"em",href:"http://slack.datahubproject.io"},"Slack"),"!")))}p.isMDXComponent=!0}}]);